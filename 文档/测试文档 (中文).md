# 测试文档

[TOC]

### 历史版本

| 修改人员 | 修改日期   | 修改原因 | 版本号 |
| -------- | ---------- | -------- | ------ |
| 张嘉禾   | 2019/09/10 | 新建测试 | V1.0   |
| 杨云鹏   | 2019/09/10 | 修改完善 | V1.1   |

### 1.简介

#### 1.1目的
本文档有助于实现以下目标：
确定现有项目的信息和应测试的软件构件，列出推荐的测试需求（高级需求），推荐可采用的测试策略，并对这些策略加以说明，确定所需的资源，并对测试的工作量进行估计，列出测试项目的可交付元素。

#### 1.2背景
大数据、云计算、人工智能等技术突破为智能投顾的产生提供基础；低费率、低门槛、实时监控、分散投资、情绪无扰等优势直击传统模式痛点， 满足多元用户需求，使得智能投顾迅速获得市场青睐。近年来， 伴随技术继续突破、互联网厂商和传统金融机构涌入，智能投顾黎明已至， 有望获得加速成长。

#### 1.3 范围
本文档覆盖基金系统所有模块，包括Customer包，Finance包，Fund包和Manager包的测试。

#### 参考资料
《Software Testing》：Ron Patton著，2005.08.05，Sams Publishing出版社。



### 2.测试

#### 2.1 Customer

<table>
    <tr>
        <th>测试方法</th>
        <th>测试情景</th>
        <th>测试结果</th>
        <th>测试失败原因</th>
    </tr>
    <tr>
        <td rowspan = "6">用户注册</td>
        <td> 成功注册</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 用户名已注册</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 邮箱已注册</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 用户名过于简单</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 密码过于简单</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 注册信息为空</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td rowspan = "3">发送邮箱验证连接</td>
        <td> 发送链接成功</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 邮箱格式错误</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 邮箱已经验证过</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td rowspan = "3">注册时用户名验证</td>
        <td> 成功</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 用户名无效</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 用户名重复</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td rowspan = "4">邮箱验证</td>
        <td> 验证成功</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 重复验证</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 邮箱错误</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 验证码错误</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td rowspan = "1">忘记密码时提供重置链接</td>
        <td> 成功</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td rowspan = "5">找回密码</td>
        <td> 成功</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 重复找回密码</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 邮箱错误</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> ID错误</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 验证码错误</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td rowspan = "8">填写问卷</td>
        <td> 成功</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 已填写</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 问卷填写错误</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> ID错误</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 消费者不存在</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 问卷回答小写</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 问卷填写超出范围1</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 问卷填写超出范围2</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td rowspan = "3">获得用户填写的问卷</td>
        <td> 成功</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 用户不存在</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 问卷不存在</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td rowspan = "2">更新用户问卷</td>
        <td> 成功</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 问卷不存在</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td rowspan = "3">修改密码</td>
        <td> 成功</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 原密码错误</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 新密码无效</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td rowspan = "3">修改邮箱</td>
        <td> 成功</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 邮箱格式错误</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 邮箱已经存在</td>
        <td> pass</td>
        <td> </td>
    </tr>
</table>


#### 2.2 Manager

<table>
	<tr>
        <th>测试方法</th>
        <th>测试情景</th>
        <th>测试结果</th>
        <th>测试失败原因</th>
    </tr>
    <tr>
        <td rowspan = "2">管理员登录</td>
        <td> 成功</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 用户名密码错误</td>
        <td> pass</td>
        <td> </td>
    </tr>
	<tr>
        <td rowspan = "2">添加管理员</td>
        <td> 成功</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 已经添加</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td rowspan = "2">修改密码</td>
        <td> 成功</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 管理员id错误</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td rowspan = "2">禁用管理员</td>
        <td> 成功</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 管理员id错误</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td rowspan = "2">解禁管理员</td>
        <td> 成功</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 管理员id错误</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td rowspan = "3">查看所有消费者</td>
        <td> 成功</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 分页页数错误</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 分页页大小错误</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td rowspan = "3">查看所有管理员</td>
        <td> 成功</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 分页页数错误</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 分页页大小错误</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td rowspan = "2">查看消费者具体信息</td>
        <td> 成功</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 消费者id错误</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td rowspan = "2">禁用用户</td>
        <td> 成功</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> id错误</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td rowspan = "2">解禁用户</td>
        <td> 成功</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> id错误</td>
        <td> pass</td>
        <td> </td>
    </tr>
</table>


#### 2.3 Fund

<table>
	<tr>
        <th>测试方法</th>
        <th>测试情景</th>
        <th>测试结果</th>
        <th>测试失败原因</th>
    </tr>
	<tr>
        <td rowspan = "3">添加基金</td>
        <td> 成功</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 基金已经添加</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 添加为空</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td rowspan = "5">修改基金</td>
        <td> 成功</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 基金id错误</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 空基金id</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 空基金代码</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 基金id错误</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td rowspan = "4">查看所有基金</td>
        <td> 成功</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 参数无效或不合法1</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 参数无效或不合法2</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 找不到基金</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td rowspan = "2">查看基金详情</td>
        <td> 成功</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 基金详情未找到</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td rowspan = "2">推荐基金</td>
        <td> 成功</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 参数错误</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td rowspan = "2">查看基金净值</td>
        <td> 成功</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 找不到基金净值</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td rowspan = "2">查看基金费率</td>
        <td> 成功</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 找不到基金费率</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td rowspan = "3">查找基金组合</td>
        <td> 成功</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 用户id错误</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 找不到基金组合</td>
        <td> pass</td>
        <td> </td>
    </tr>
</table>


#### 2.4 Finance

<table>
	<tr>
        <th>测试方法</th>
        <th>测试情景</th>
        <th>测试结果</th>
        <th>测试失败原因</th>
    </tr>
	<tr>
        <td rowspan = "6">用户充值</td>
        <td> 成功</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 参数错误1</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 参数错误2</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 参数错误3</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 参数为空1</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 参数为空2</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td rowspan = "6">用户消耗余额</td>
        <td> 成功</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 参数错误1</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 参数错误2</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 参数为空1</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 参数为空2</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 余额不足</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td rowspan = "2">获取消费记录</td>
        <td> 成功</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 消费记录为空</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td rowspan = "2">售出基金组合</td>
        <td> 成功</td>
        <td> pass</td>
        <td> </td>
    </tr>
    <tr>
        <td> 售出基金失败</td>
        <td> pass</td>
        <td> </td>
    </tr>
</table>

### 3.总结
本次基金系统源代码的编写与测试代码的编写一直同步进行，采用黑盒测试，对软件所有功能进行测试，以保证代码的稳定性和可靠性（下图为此项目的测试覆盖率）。

![na84YQ.png](https://s2.ax1x.com/2019/09/11/na84YQ.png)

​                                                                                              图1

![naGVte.png](https://s2.ax1x.com/2019/09/11/naGVte.png)

​                                                                                           图2